"use strict";(self.webpackChunktypescript_eslint_chinese=self.webpackChunktypescript_eslint_chinese||[]).push([[5129],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},p=Object.keys(e);for(i=0;i<p.length;i++)n=p[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)n=p[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=i.createContext({}),l=function(e){var t=i.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=l(e.components);return i.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,p=e.originalType,o=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),d=l(n),m=r,y=d["".concat(o,".").concat(m)]||d[m]||u[m]||p;return n?i.createElement(y,s(s({ref:t},c),{},{components:n})):i.createElement(y,s({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var p=n.length,s=new Array(p);s[0]=d;var a={};for(var o in t)hasOwnProperty.call(t,o)&&(a[o]=t[o]);a.originalType=e,a.mdxType="string"==typeof e?e:r,s[1]=a;for(var l=2;l<p;l++)s[l]=n[l];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4858:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return a},metadata:function(){return l},toc:function(){return u}});var i=n(3117),r=n(102),p=(n(7294),n(3905)),s=["components"],a={id:"packages",title:"Packages",sidebar_label:"Packages"},o=void 0,l={unversionedId:"development/architecture/packages",id:"development/architecture/packages",title:"Packages",description:"This page describes the top-level packages exported by the typescript-eslint monorepo.",source:"@site/docs/development/architecture/PACKAGES.md",sourceDirName:"development/architecture",slug:"/development/architecture/packages",permalink:"/typescript-eslint-chinese/docs/development/architecture/packages",draft:!1,tags:[],version:"current",lastUpdatedBy:"GEARLESS JOE",lastUpdatedAt:1655042063,formattedLastUpdatedAt:"2022\u5e746\u670812\u65e5",frontMatter:{id:"packages",title:"Packages",sidebar_label:"Packages"},sidebar:"docs",previous:{title:"ASTs",permalink:"/typescript-eslint-chinese/docs/development/architecture/asts"},next:{title:"Custom Rules",permalink:"/typescript-eslint-chinese/docs/development/custom-rules"}},c={},u=[{value:"<code>@typescript-eslint/eslint-plugin</code>",id:"typescript-eslinteslint-plugin",level:2},{value:"<code>@typescript-eslint/parser</code>",id:"typescript-eslintparser",level:2},{value:"<code>@typescript-eslint/typescript-estree</code>",id:"typescript-eslinttypescript-estree",level:2},{value:"<code>@typescript-eslint/scope-manager</code>",id:"typescript-eslintscope-manager",level:2},{value:"<code>@typescript-eslint/utils</code>",id:"typescript-eslintutils",level:2},{value:"<code>@typescript-eslint/eslint-plugin-tslint</code>",id:"typescript-eslinteslint-plugin-tslint",level:2}],d={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,s);return(0,p.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,p.kt)("p",null,"This page describes the top-level packages exported by the ",(0,p.kt)("a",{parentName:"p",href:"https://github.com/typescript-eslint/typescript-eslint"},"typescript-eslint monorepo"),".\nEach of these are published as npm packages under the ",(0,p.kt)("inlineCode",{parentName:"p"},"@typescript-eslint")," organization."),(0,p.kt)("h2",{id:"typescript-eslinteslint-plugin"},(0,p.kt)("inlineCode",{parentName:"h2"},"@typescript-eslint/eslint-plugin")),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/eslint-plugin"},(0,p.kt)("inlineCode",{parentName:"a"},"@typescript-eslint/eslint-plugin"))," is the core ",(0,p.kt)("a",{parentName:"p",href:"https://eslint.org/docs/user-guide/configuring/plugins"},"ESLint plugin")," used by consumers to load in custom rules and rule configurations lists from typescript-eslint.\nThose rules rely on ESLint using the ",(0,p.kt)("inlineCode",{parentName:"p"},"@typescript-eslint/parser")," package described below, and are generally built using the other packages on this page."),(0,p.kt)("h2",{id:"typescript-eslintparser"},(0,p.kt)("inlineCode",{parentName:"h2"},"@typescript-eslint/parser")),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/parser"},(0,p.kt)("inlineCode",{parentName:"a"},"@typescript-eslint/parser"))," takes in ESLint configuration settings, reads in TypeScript source text, and produces an ESTree AST.\nThis is necessary because TypeScript produces a different, incompatible AST format to the one that ESLint requires to work."),(0,p.kt)("p",null,"For example, this is not valid JavaScript code because it contains the ",(0,p.kt)("inlineCode",{parentName:"p"},": number")," type annotation:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"let x: number = 1;\n")),(0,p.kt)("p",null,"ESLint's native Espree parser would raise an error attempting to parse it."),(0,p.kt)("p",null,'Additionally, because TypeScript is developed separately and with different goals from ESLint, ESTree, and Espree, its AST also represents nodes differently in many cases.\nTS\'s AST is optimized for its use case of parsing incomplete code and typechecking.\nESTree is unoptimized and intended for "general purpose" use-cases of traversing the AST.'),(0,p.kt)("p",null,"See more on configuring custom parsers with ESLint on ",(0,p.kt)("a",{parentName:"p",href:"https://eslint.org/docs/user-guide/configuring/plugins#specifying-parser"},"ESLint's User Guide > Configuring > Plugins"),"."),(0,p.kt)("admonition",{type:"tip"},(0,p.kt)("p",{parentName:"admonition"},"You can select ",(0,p.kt)("inlineCode",{parentName:"p"},"@typescript-eslint/parser")," on the ",(0,p.kt)("a",{parentName:"p",href:"https://typescript-eslint.io/play#showAST=es"},"TypeScript ESLint playground"),"'s left sidebar under ",(0,p.kt)("em",{parentName:"p"},"Options")," > ",(0,p.kt)("em",{parentName:"p"},"AST Explorer")," by selecting ",(0,p.kt)("em",{parentName:"p"},"ESTree"),".")),(0,p.kt)("h2",{id:"typescript-eslinttypescript-estree"},(0,p.kt)("inlineCode",{parentName:"h2"},"@typescript-eslint/typescript-estree")),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/typescript-estree"},(0,p.kt)("inlineCode",{parentName:"a"},"@typescript-eslint/typescript-estree"))," is used by ",(0,p.kt)("inlineCode",{parentName:"p"},"@typescript-eslint/parser")," to take TypeScript source code and produce the equivalent ESTree AST.\nIt works by:"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"Invoking the TypeScript compiler on the given source code in order to\nproduce a TypeScript AST"),(0,p.kt)("li",{parentName:"ol"},"Converting that TypeScript AST into an ESTree AST")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"Because ",(0,p.kt)("a",{parentName:"p",href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/typescript-estree"},(0,p.kt)("inlineCode",{parentName:"a"},"@typescript-eslint/typescript-estree"))," has a very specific purpose, it is reusable for tools with similar\nrequirements to ESLint.\nIt is therefore also used to power the amazing opinionated code formatter ",(0,p.kt)("a",{parentName:"p",href:"https://prettier.io"},"Prettier"),"'s TypeScript support.")),(0,p.kt)("h2",{id:"typescript-eslintscope-manager"},(0,p.kt)("inlineCode",{parentName:"h2"},"@typescript-eslint/scope-manager")),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/scope-manager"},(0,p.kt)("inlineCode",{parentName:"a"},"@typescript-eslint/scope-manager"))," is a fork of ",(0,p.kt)("a",{parentName:"p",href:"https://github.com/eslint/eslint-scope"},(0,p.kt)("inlineCode",{parentName:"a"},"eslint-scope")),", enhanced to support TypeScript functionality."),(0,p.kt)("p",null,'A "scope analyser" traverses an AST and builds a model of how variables (and in our case, types) are defined and consumed by the source code.\nThis form of static analysis allows you to understand and trace variables throughout the program, allowing you to access powerful information about a program without needing to drop into the much, much heavier type information.'),(0,p.kt)("h2",{id:"typescript-eslintutils"},(0,p.kt)("inlineCode",{parentName:"h2"},"@typescript-eslint/utils")),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/utils"},(0,p.kt)("inlineCode",{parentName:"a"},"@typescript-eslint/utils"))," contains public utilities for writing custom rules and plugins in TypeScript.\nRules declared in ",(0,p.kt)("inlineCode",{parentName:"p"},"@typescript-eslint/eslint-plugin")," are created using its utility functions.\nAny custom rules you write generally will be as well."),(0,p.kt)("h2",{id:"typescript-eslinteslint-plugin-tslint"},(0,p.kt)("inlineCode",{parentName:"h2"},"@typescript-eslint/eslint-plugin-tslint")),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/eslint-plugin-tslint"},(0,p.kt)("inlineCode",{parentName:"a"},"@typescript-eslint/eslint-plugin-tslint"))," is a separate ESLint plugin that allows running TSLint rules within ESLint to help you migrate from TSLint to ESLint."),(0,p.kt)("admonition",{type:"caution"},(0,p.kt)("p",{parentName:"admonition"},(0,p.kt)("strong",{parentName:"p"},"TSLint is deprecated.")," It is in your best interest to migrate off it entirely. See ",(0,p.kt)("a",{parentName:"p",href:"/typescript-eslint-chinese/docs/linting/tslint"},"Linting > TSLint"),".")))}m.isMDXComponent=!0}}]);